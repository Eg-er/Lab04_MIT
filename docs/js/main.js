!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);n(1);console.log("Hello!");var a,o={},i={};function r(t){var e="";e=0==t?"https://nit.tron.net.ua/api/product/list":"https://nit.tron.net.ua/api/product/list/category/"+t,$.getJSON(e,(function(t){t;var e="";for(var n in e+='<section class = "text-center mb-4" ">',e+='<div class = "container-fluid">',e+='<div class = "row wow fadeIn">',t){e+='<div class = "col-lg-3 col-md-4 col-sm-6 mb-4">';var a=t[n].id,i=t[n].name,r=t[n].image_url,l=t[n].price,d=t[n].special_price;e+='<div class="card">',e+='<div class="goods-img-container">',e+='<img class="goods-img" src ="'+r+'" alt"'+i+'">',e+="</div>",e+='<span class="goods-name show-good-info" data-art="'+a+'">'+i+"</span>",null!=d?(e+='<span class="old-price ">'+l+" грн</span>",e+='<span class="new-price">'+d+" грн</span>"):e+='<span class="price">'+l+" грн</span>",e+='<button class="add-to-cart  btn btn-warning" data-id="'+a+'" data-obj="'+n+'">Add to cart</button>',e+="</div>",e+="</div>"}e+="</div>",e+="</div>",e+="</section>",$("#goods-container").html(e),$("button.add-to-cart").on("click",(function(){var e=parseInt($(this).attr("data-obj")),n=$(this).attr("data-id");null!=o[n]?o[n].amount++:(o[n]={},o[n].name=t[e].name,o[n].amount=1,null!=t[e].special_price?o[n].price=t[e].special_price:o[n].price=t[e].price),localStorage.setItem("cart",JSON.stringify(o)),s()})),$(".show-good-info").on("click",(function(){c($(this).attr("data-art"))}))}))}function c(t){console.log(t);var e="https://nit.tron.net.ua/api/product/"+t;$.getJSON(e,(function(t){var e="";e+='<div id = "id1" class = "modal">',e+='<div class="modal-content animate">',e+='<div class="imgcontainer">',e+='<span class="close" title="Close Preview">&times;</span>',e+='<img class="itemImage" src="'+t.image_url+'" alt="Goods image"></div>',e+='<div class="container">',e+='<p class="icon-goods-name">'+t.name+"</p>",e+='<p class="icon-description">'+t.description+"</p>",e+="</div>",e+='<div class="container icon-price-container">',e+='<p class="icon-price-header" style="">Price</p>',null===t.special_price?e+='<p class = "price">'+t.price+" грн</p>":e+='<p class="descr-old-price">'+t.price+' грн. </p><p class="descr-new-price">'+t.special_price+" грн. </p>",e+="</div>",e+='<button class="cancel-btn btn btn-sm btn-red" type="button">Cancel</button>',e+='<button class="add-button btn btn-sm btn-green " data-art="'+t.id+'"> Add to cart </button>',e+="</div>",e+="</div>",$("#preview-frame").html(e),document.getElementById("id1").style.display="block",$(".cancel-btn").on("click",(function(){document.getElementById("id1").style.display="none"})),$(".close").on("click",(function(){document.getElementById("id1").style.display="none"}));var n=document.getElementById("id1");window.onclick=function(t){t.target==n&&(n.style.display="none")},$(".add-button").on("click",(function(){var e=$(this).attr("data-art");null!=o[e]?o[e].amount++:(o[e]={},o[e].name=t.name,o[e].amount=1,null!=t.special_price?o[e].price=t.special_price:o[e].price=t.price),localStorage.setItem("cart",JSON.stringify(o))}))}))}function s(){var t=0;if(function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})}(o)){$("#btn-order").prop("disabled",!0);e="<p> Корзина пуста </p>";$(".total-cart").html(t),$(".cart-content").html(e)}else{var e="";for(var n in o)e+='<tr><td class = \'name\'><span class="show-good-info" data-dismiss="modal" data-art = "'+n+'">'+o[n].name+"</span> "+o[n].price+"₴ </tr><tr></td><td><div class='input-group'><button class='minus-item input-group-addon btn-up ' data-art="+n+">-</button><input type='number' class='item-count form-control' data-art="+n+"' value='"+o[n].amount+"'><button class='plus-item btn-up input-group-addon' data-art="+n+">+</button></div></td><td><button class='delete-item btn-up btn-danger' data-art="+n+">X</button></td> = </tr>",t+=o[n].amount*o[n].price,console.log(o);$(".total-cart").html(t),$("#btn-order").prop("disabled",!1),e+='<div class="cart-item-down">',e+='<span class="cart-item-cost">Total: '+t+" грн</span>",e+="</div>",$(".cart-content").html(e),$(".btn-order").on("click",(function(){!function(t){var e="";for(var n in e+='<div id="id01" class="modal modalOrder">',e+='<div class="modal-content animate">',e+='<div class="imgcontainer">',e+='<span class="close" title="Close Preview">&times;</span>',e+='<p class="order-title"">Order</p>',e+="</div>",o)e+='<span class="show-good-info ord-link" data-dismiss="modal" data-art = "'+n+'">'+o[n].name+" ("+o[n].amount+")</span>";e+='<p class="total-price">Total: '+t+" UAH</p>",e+='<div class = "order-border"></div>',e+='<div class="form-input-container">',e+='<form class="form-position" name="AlcoShop_ORDER" action="" method="post">',e+='<p class = "total-price">Full name</p>',e+='<input type="text" name="name" id="defaultContactFormName" class="form-control-1" placeholder="Name">',e+='<p class = "total-price">Phone number</p>',e+='<input type="text" name="phone" id="defaultRegisterPhonePassword" class="form-control-1" placeholder="Phone number" aria-describedby="defaultRegisterFormPhoneHelpBlock">',e+='<p class = "total-price">E-mail</p>',e+='<input name="email" type="email" id="materialLoginFormEmail" class="form-control-1" placeholder="e-mail">',e+="</form>",e+="</div>",e+='<div class = "order-border"></div>',e+='<div class="container order-last">',e+='<button class="btn btn-sm btn-red cancel-prev-btn" type="button" ">Cancel</button>',e+='<button class="btn btn-sm btn-green send-button" id="send">Order</button>',e+="</div>",e+="</div>",e+="</div>",$("#preview-frame").html(e),$(".show-good-info").on("click",(function(){c($(this).attr("data-art"))})),document.getElementById("id01").style.display="block",$(".cancel-prev-btn").on("click",(function(){document.getElementById("id01").style.display="none"})),$(".close").on("click",(function(){document.getElementById("id01").style.display="none"})),$(".send-button").on("click",(function(){var t,e=new FormData(document.forms.AlcoShop_ORDER);for(var a in console.log("Ordered:"),console.log(o),o)t=parseInt(a)+1,e.append("products["+t+"]",o[n].amount);e.append("token","PklEtAN9GY7U263juWZU");var i=new XMLHttpRequest;i.open("POST","https://nit.tron.net.ua/api/order/add"),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status)if(i.responseText.indexOf("error")>0)alert("перевірте правильність данних!");else{for(var t in o){delete o[t],document.getElementById("id01").style.display="none"}alert("Замовлення прийняте!!!"),localStorage.setItem("cart",JSON.stringify(o))}},i.send(e)}))}(t)})),$(".show-good-info").on("click",(function(){c($(this).attr("data-art"))})),$(".minus-item").on("click",(function(){var t=$(this).attr("data-art");o[t].amount>1?o[t].amount--:o[t].amount>0&&delete o[t],localStorage.setItem("cart",JSON.stringify(o)),s()})),$(".plus-item").on("click",(function(){var t=$(this).attr("data-art");o[t].amount++,localStorage.setItem("cart",JSON.stringify(o)),s()})),$(".delete-item").on("click",(function(){var t=$(this).attr("data-art");o[t].amount=0,delete o[t],s(),localStorage.setItem("cart",JSON.stringify(o))}))}}$("document").ready((function(){$.getJSON("https://nit.tron.net.ua/api/category/list",(function(t){var e,n="";for(var o in n+='<li class="category-pos current" data-id="0">All products</li>',i[0]="All products",a=0,$("#goods-content-header").html(i[a]),t)n+='<li class="category-pos" data-id="'+(e=t[o].id)+'">'+t[o].name+"</li>",i[e]=t[o].description;$("#categories-list ul").html(n),$("li.category-pos").on("click",(function(){var t=$(this).attr("data-id");a!==t&&(r(t),$("#goods-content-header").html(i[t]),$(".curr").removeClass("curr"),$(this).addClass("curr"),a=t)}))})),r(0),null!=localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart"))),console.log(o),$(".openbtn").on("click",(function(){s()}))}))},function(t,e,n){}]);